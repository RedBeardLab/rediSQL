<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Tutorial - RediSQL</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-116709819-1', 'auto');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">RediSQL</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Overview</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../references/">References</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../pro/">Pro</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../motivations/">Motivations</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Blog <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">Tutorial</a>
</li>

                        
                            
<li >
    <a href="../release_0.9.0/">Release 0.9.0</a>
</li>

                        
                            
<li >
    <a href="../release_0.8.0/">Release 0.8.0</a>
</li>

                        
                            
<li >
    <a href="../release_0.7.0/">Release 0.7.0</a>
</li>

                        
                            
<li >
    <a href="../release_0.6.0/">Release 0.6.0</a>
</li>

                        
                            
<li >
    <a href="../release_0.5.0/">Release 0.5.0</a>
</li>

                        
                            
<li >
    <a href="../analytics/">Analytics</a>
</li>

                        
                            
<li >
    <a href="../JaaS/">JSON on Redis using RediSQL, SQL steroids for Redis</a>
</li>

                        
                            
<li >
    <a href="../performances/">Double performances of RediSQL going zero copy</a>
</li>

                        
                            
<li >
    <a href="../python/using-redisql-with-python/">Using RediSQL with Python</a>
</li>

                        
                            
<li >
    <a href="../golang/using-redisql-with-golang/">Using RediSQL with Go(lang)</a>
</li>

                        
                            
<li >
    <a href="../node/using-redisql-with-node/">Using RediSQL with Node.js</a>
</li>

                        
                            
<li >
    <a href="../hierarchical_json/">Hierarchical JSON with SQLite/RediSQL</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../faqs/">FAQs</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../motivations/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../release_0.9.0/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/RedBeardLab/rediSQL">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#tutorial-for-redisql">Tutorial for RediSQL</a></li>
        
            <li><a href="#create-your-database">Create your database</a></li>
        
            <li><a href="#first-interaction">First interaction</a></li>
        
            <li><a href="#insert-values">Insert values</a></li>
        
            <li><a href="#query-values">Query values</a></li>
        
            <li><a href="#statements">Statements</a></li>
        
            <li><a href="#push-to-streams">Push to streams</a></li>
        
    
        <li class="main "><a href="#end">End</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="tutorial-for-redisql">Tutorial for RediSQL</h1>
<p>If you want to start exploring RediSQL, this tutorial will walk you through the most important commands to know and how to use them.</p>
<p>The tutorial can be followed also connecting on our demo machine @ demo.redisql.com:</p>
<pre><code>redis-cli -h demo.redisql.com
</code></pre>

<p>If you connect to the demo machine, please remember that it is a shared machine and other users can be using it at the same time. Also note that we clean up the machine every hour.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/YRusC-AIq_g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p><Paste></p>
<h2 id="create-your-database">Create your database</h2>
<p>The first fundamental concept in RediSQL is the concept of database.</p>
<p>One database is a SQLite database that is associated with a Redis key, creating a new database also means to spawn a new thread that will be the one that actually does the work leaving the main Redis thread available to answer standard Redis queries.</p>
<p>To create a new RediSQL database just run:</p>
<pre><code>REDISQL.CREATE_DB TUTORIAL

OK
</code></pre>

<p>This will create a new in-memory database associated with the name <code>TUTORIAL</code>.</p>
<p>(If you receive an error at this stage, most likely someone else is following the tutorial, no worries, instead of <code>TUTORIAL</code> simply use another name).</p>
<h2 id="first-interaction">First interaction</h2>
<p>Now that we have create a new database, we can interact with it.</p>
<p>The simplest command to use is the <code>REDISQL.EXEC</code> command that will execute one query against our newly created database, try:</p>
<pre><code>REDISQL.EXEC TUTORIAL &quot;SELECT 1;&quot;

1) 1) (integer) 1
</code></pre>

<p>This command should simply return 1.</p>
<p>What we can do, is to create a simple SQL table.</p>
<pre><code>REDISQL.EXEC TUTORIAL &quot;CREATE TABLE first_table(a integer, b string);&quot;

1) DONE
2) (integer) 0
</code></pre>

<p>Congrats, you have just created a new table.</p>
<h2 id="insert-values">Insert values</h2>
<p>After we create our first table, we can insert some value into it.</p>
<pre><code>REDISQL.EXEC TUTORIAL &quot;INSERT INTO first_table VALUES(1, 'the first row'), (2, 'the second row');&quot;

1) DONE
2) (integer) 2
</code></pre>

<p>This command will return 2, the number of rows inserted.</p>
<h2 id="query-values">Query values</h2>
<p>Now we can try to select some values from our table, as an example:</p>
<pre><code>REDISQL.EXEC TUTORIAL &quot;SELECT * FROM first_table;&quot;

1) 1) (integer) 1
   2) &quot;the first row&quot;
2) 1) (integer) 2
   2) &quot;the second row&quot;
</code></pre>

<p>Another way to select values is to use the <code>QUERY</code> command, this command works only if the query you send is a read-only query.</p>
<pre><code>REDISQL.QUERY TUTORIAL &quot;SELECT * FROM first_table WHERE a = 1;&quot;

1) 1) (integer) 1
   2) &quot;the first row&quot;
</code></pre>

<h2 id="statements">Statements</h2>
<p>Writing this commands all over again get tedious, moreover, it is inefficient since the SQL engine needs to parse and compile the SQL query every time. The solution, in this case, is the use of statements.</p>
<pre><code>REDISQL.CREATE_STATEMENT TUTORIAL filter_on_a &quot;SELECT * FROM first_table WHERE a = ?1;&quot;


OK
</code></pre>

<p>The statements can both query (as above) or insert rows:</p>
<pre><code>REDISQL.CREATE_STATEMENT TUTORIAL new_row &quot;INSERT INTO first_table VALUES(?1, 'insert_from_statement');&quot;

OK
</code></pre>

<p>Statements can be invoked using:</p>
<pre><code>REDISQL.EXEC_STATEMENT TUTORIAL new_row 5

1) DONE
2) (integer) 1
</code></pre>

<p>Or if they are read-only statements:</p>
<pre><code>REDISQL.QUERY_STATEMENT TUTORIAL filter_on_a 5

1) 1) (integer) 5
   2) &quot;insert_from_statement&quot;
</code></pre>

<h2 id="push-to-streams">Push to streams</h2>
<p>Sometimes you may want to store the result of your queries in Redis itself, to consume it little by little, or for caching. In such cases, the solution is to push the results into a Redis stream.</p>
<pre><code>REDISQL.QUERY.INTO tutorial_stream TUTORIAL &quot;SELECT * FROM first_table;&quot;

1) 1) &quot;tutorial_stream&quot;
   2) &quot;1569174107783-0&quot;
   3) &quot;1569174107783-2&quot;
   4) (integer) 3
</code></pre>

<p>This will push the result of the query into the stream <code>tutorial_stream</code> and it will return:
1. The name of the stream
2. The first ID
3. The last ID
4. The total number of elements added</p>
<p>In order to retrieve the values from the Redis stream, you can use the standard Redis API:</p>
<pre><code>XRANGE tutorial_stream - +

1) 1) &quot;1569174107783-0&quot;
   2) 1) &quot;int:a&quot;
      2) &quot;1&quot;
      3) &quot;text:b&quot;
      4) &quot;the first row&quot;
2) 1) &quot;1569174107783-1&quot;
   2) 1) &quot;int:a&quot;
      2) &quot;2&quot;
      3) &quot;text:b&quot;
      4) &quot;the second row&quot;
3) 1) &quot;1569174107783-2&quot;
   2) 1) &quot;int:a&quot;
      2) &quot;5&quot;
      3) &quot;text:b&quot;
      4) &quot;insert_from_statement&quot;
</code></pre>

<h1 id="end">End</h1>
<p>I hope that this tutorial was helpful :)</p>
<p>If you have any question, feel free to contact me simone@redbeardlab.com or on github: <a href="https://github.com/RedBeardLab/rediSQL">RedBeardLab/rediSQL</a></p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../blog/node/hn.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
